# مفاهیم پیش‌نیاز

## CDN

**CDN (شبکه تحویل محتوا)** به‌عنوان راه‌حلی برای رفع تأخیر در بارگذاری، ازدحام ترافیکی و مشکلات مقیاس‌پذیری به‌وجود آمد. با گسترش اینترنت و افزایش کاربران در نقاط جغرافیایی مختلف، دریافت محتوا از یک سرور مرکزی موجب کندی و نارضایتی کاربران شد. CDN با قرار دادن **نودهای کش (cache node)** یه عنوان **PoPs (Point of Presence)** در نقاط استراتژیک، محتواهایی مانند تصاویر، ویدیو، JS و CSS را از **نزدیک‌ترین موقعیت به کاربر** تحویل می‌دهد، تا سرعت بارگذاری افزایش یابد، فشار از روی سرور اصلی برداشته شود و در برابر حملاتی مانند DDoS نیز مقاومت بهتری ایجاد شود. گوگل و موتورهای جست‌وجو **سرعت سایت** و **در دسترس نگه‌داشتن سایت در زمان ترافیک بالا یا حملات DDoS** را یکی از فاکتورهای مهم رتبه‌بندی می‌دانند؛ در نتیجه CDN نه‌تنها سرعت بارگذاری را افزایش می‌دهد، بلکه تأثیر مستقیمی بر **سئو (SEO)** دارد. CDN پاسخی به نیاز جهانی برای تحویل **سریع**، **پایدار** و **امن** محتوای دیجیتال است.

### Caching

در زمینه کامپیوتر و فناوری اطلاعات، cache به **حافظه‌ای با دسترسی سریع** گفته می‌شود. caching نیز **فرآیند ذخیره‌سازی موقت داده‌ها** در این حافظه است تا در دفعات بعدی نیاز به بارگذاری مجدد از منبع اصلی نباشد. در **CDN**، **caching** به‌معنای **ذخیره فایل‌های استاتیک** (مانند تصاویر، فایل‌های CSS و JavaScript) و **حتی برخی فایل‌های داینامیک** در سرورهای نزدیک به کاربر است. این تکنیک باعث **کاهش زمان پاسخ‌دهی**، **کاهش بار بر روی سرور اصلی** و **بهبود تجربه کاربری** می‌شود.

### Edge Server و Host Server

**Edge Server**ها یا **سرورهای لبه** سرورهایی هستند که در لبه شبکه و در نزدیکی موقعیت جغرافیایی کاربران قرار دارند. این سرورها نقش حیاتی در معماری CDN ایفا می‌کنند زیرا **محتوای cache شده** را نگهداری می‌کنند و آن را به‌سرعت در اختیار کاربران قرار می‌دهند. در مقابل، **UpStream**، **Origin Server** یا **سرور مبدا**، همان سرور مرکزی است که محتوای کامل و به‌روز وب‌سایت در آن قرار دارد. زمانی که یک کاربر به محتوایی دسترسی پیدا می‌کند که در edge server موجود نیست یا منقضی شده است، درخواست به سرور اصلی ارجاع داده می‌شود.

### قوانین و تنظیمات در CDN

CDN برای مدیریت مؤثر cache و نحوه پاسخ‌دهی سرورها به **مجموعه‌ای از قوانین و تنظیمات** متکی است. این قوانین شامل تعیین مسیرهایی که باید cache شوند یا نشوند، مدت زمان نگهداری فایل‌ها (TTL: Time To Live)، بررسی هدرهای HTTP مانند Cache-Control و ETag، و تعیین استراتژی‌هایی مانند cache purge یا cache invalidation است. تنظیم صحیح این سیاست‌ها توسط تیم فنی، نقش کلیدی در عملکرد مطلوب CDN، تازه نگه‌داشتن محتوا و کاهش خطاهای نمایش محتوا دارد.

### توزیع بار (Load Balancing)

توزیع بار در شبکه CDN به این معناست که درخواست‌های کاربران بین سرورهای مختلف تقسیم می‌شود تا از فشار بیش‌ازحد روی یک سرور خاص جلوگیری شود. این کار باعث افزایش پایداری، در دسترس بودن، و سرعت سرویس می‌شود، به‌ویژه در زمان‌هایی که ترافیک وب‌سایت بالاست.

### محافظت در برابر حملات DDoS (DDoS Protection)

شبکه‌های CDN می‌توانند نقش کلیدی در **جلوگیری از حملات DDoS** ایفا کنند. با **توزیع ترافیک** و **فیلتر کردن درخواست‌های مشکوک** در نقاط لبه شبکه (Network Edge Point)، آن‌ها می‌توانند از سرور مبدأ در برابر حملات انبوه جلوگیری کرده و عملکرد وب‌سایت را پایدار نگه دارند.

### بهینه‌سازی برای موتورهای جستجو (SEO)

CDN به‌طور غیرمستقیم به بهبود سئو کمک می‌کند. با کاهش زمان بارگذاری صفحات، تجربه کاربری ارتقا می‌یابد که یکی از عوامل مهم در رتبه‌بندی گوگل است. همچنین استفاده صحیح از CDN و تنظیمات مناسب کش و URLها باعث می‌شود محتوای کش‌شده با نسخه اصلی همگام باقی بماند و خزنده‌های موتورهای جستجو دچار سردرگمی نشوند.

## DNS

**سامانه نام دامنه (DNS)** مانند **دفترچه تلفن اینترنت** عمل می‌کند. بدون DNS، کاربران مجبور بودند آدرس‌های عددی پیچیده را به خاطر بسپارند. **کاربران** برای دسترسی به سایت‌ها از **نام‌های دامنه‌ای** مثل `nytimes.com` استفاده می‌کنند، اما **مرورگرها** برای ارتباط، نیاز به **آدرس‌های IP** دارند. **DNS این نام‌های دامنه را به آدرس‌های IP ترجمه می‌کند** تا منابع اینترنتی قابل بارگذاری باشند.

هر دستگاه متصل به اینترنت دارای **یک آدرس IP منحصربه‌فرد** است که سایر دستگاه‌ها برای یافتن آن استفاده می‌کنند. DNS این فرآیند را برای انسان ساده می‌کند و نیاز به حفظ کردن آدرس‌های عددی پیچیده مانند `192.168.1.1` (در IPv4) یا `2400:cb00:2048:1::c629:d7a2` (در IPv6) را از بین می‌برد.

### DNS Records

DNS رکوردها، مجموعه‌ای از تنظیمات هستند که تعیین می‌کنند دامنه‌تان چگونه عمل کند؛ مثل اینکه ایمیل‌ها به کجا بروند (MX Record)، یا آدرس اصلی سایت روی کدام سرور قرار دارد (A Record). با تنظیمات صحیح این قابلیت، کنترل کاملی روی مسیر ترافیک ورودی‌تان داشته باشید.

### anycast

با فناوری زیرساخت Anycast، درخواست‌های DNS کاربران به نزدیک‌ترین سرور پاسخ داده می‌شود؛ پاسخ DNS از نزدیک‌ترین نقطه‌ی جغرافیایی ارسال خواهد شد. این فناوری باعث کاهش چشم‌گیر تأخیر (Latency)، بهبود تجربه کاربری و افزایش پایداری سایت می‌شود. سرویس DNS کوبیت به‌صورت پیش‌فرض از زیرساخت Anycast بهره می‌برد تا سایت شما پایدار، سریع و قابل‌اعتماد و از هر نقطه‌ای در جهان در دسترس باشد.

### Propagation

هنگامی که تنظیمات DNS را تغییر می‌دهید، این تغییرات باید در سرورهای DNS پخش یا تکثیر (propagate) شوند که به این فرایند propagation می‌گوییم. در بسیاری از سرویس‌ها این روند ممکن است ساعت‌ها طول بکشد، اما در کوبیت به لطف زیرساخت سریع و به‌روز، تغییرات رکوردهای DNS با حداقل تأخیر در سراسر سرورها منتشر می‌شوند. این یعنی واکنش سریع‌تر به تغییرات، بدون از دست رفتن بازدید یا ترافیک از سایت شما.

### TTL (Time to Live)

TTL مشخص می‌کند که هر رکورد DNS چه مدتی در کش مرورگرها و سرورهای DNS باقی بماند. TTL پایین‌تر به معنی به‌روزرسانی‌های سریع‌تر و تطابق بیشتر با تغییرات است.
