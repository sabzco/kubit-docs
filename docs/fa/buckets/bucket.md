# باکت

در این صفحه، چارت گزارش از وضعیت فضای ذخیره‌سازی سازمان شامل **تعداد باکت‌ها**، **حجم فضای استفاده شده**، **ترافیک آپلود** و **ترافیک دانلود** به همراه لیستی از باکت‌های سازمان (باکت‌های پروژه انتخاب شده و باکت‌های مشترک در سازمان) وجود دارد.

از صفحه سرویس باکت‌ها، پس از [انتخاب یک پروژه متصل](../bucket-settings#select-project)، به صفحه باکت‌های پروژه هدایت خواهید شد:

![Bucket: bucket page](bucket-page.png)

## لیست باکت‌ها

در انتهای صفحه سرویس، لیست باکت‌های سازمان به همراه اطلاعاتی چون **نام**، **موقعیت/فضا**، **اندازه**، **زمان ایجاد** و **دسترسی عمومی** برای هر باکت، قابل مشاهده است:
![Bucket: buckets list](buckets-list.png)
همچنین، با کلیک روی نام هر باکت به [صفحه مرورگر باکت](./#bucket-browser) هدایت خواهید شد.

### دسترسی عمومی

‌از طریق گزینه **دسترسی عمومی** می‌‌توانید تنطیمات دسترسی به باکت را تغییر دهید. در صورت فعال شدن این گزینه، امکان دسترسی به باکت و دانلود آبجکت‌های آن برای عموم، فراهم می‌شود.

#### فعال‌سازی دسترسی عمومی

![Bucket: activate public access btn](activate-bucket-public-access-btn.png)
![Bucket: activate public access](activate-bucket-public-access.png)

#### غیرفعال‌سازی دسترسی عمومی

![Bucket: deactivate public access btn](deactivate-bucket-public-access-btn.png)
![Bucket: deactivate public access](deactivate-bucket-public-access.png)

### عملیات‌های هر باکت

در ستون عملیات و از طریق دکمه سه نقطه، لیستی از عملیات‌های موجود برای هر باکت وجود دارد:
![Bucket: bucket options](bucket-options.png)

#### ویرایش باکت

روی **ویرایش باکت** کلیک کنید تا به **صفحه تنطیمات** هدایت شوید:
![Bucket: edit bucket](edit-bucket.png)
![Bucket: bucker settings](bucket-settings-details.png)

برای مطالعه مراحل ویرایش باکت، به بخش [تنظیمات باکت](./#bucket-settings) مراجعه کنید.

#### برچسب‌ها

با کلیک روی گزینه **برچسب‌ها**، لیست برچسب‌های باکت و امکان افزودن برچسب جدید وجود دارد:
![Bucket: tags](bucket-tags.png)

علاوه بر برچسب‌های باکت، به صورت پیش‌فرض یک فیلد خالی کلید-مقدار برای ایجاد برچسب جدید، وجود دارد:
![Bucket: tags modal](bucket-tag-modal.png)

##### ایجاد برچسب جدید

در صورت تمایل برای ایجاد برچسب جدید، می‌توانید مقادیر جدید را وارد کرده و روی **به‌روزرسانی** کلیک کنید:
![Bucket: new tag](add-new-tag.png)

##### حذف برچسب

برای حذف برچسب نیز، تنها کافیست روی آیکون **سطل زباله** کنار کلید-مقدار مرتبط، کلیک کنید:
![Bucket: remove tag](remove-tag.png)

#### تخلیه باکت

برای تخلیه باکت (حذف تمام آبجکت‌های آپلود شده)، روی **تخلیه باکت** کلیک کنید:
![Bucket: clear bucket](clear-bucket.png)

سپس برای انجام عملیات تخلیه، روی گزینه **تخلیه باکت** کلیک کنید:
![Bucket: confirm clear bucket](confirm-clear-bucket.png)

#### پاک کردن باکت

برای حذف باکت (به همراه حذف تمام آبجکت‌های موجود در آن)، روی **پاک کردن باکت** کلیک کنید:
![Bucket: remove bucket](remove-bucket.png)

سپس برای انجام عملیات حذف، روی گزینه **پاک کردن باکت** کلیک کنید:
![Bucket: confirm remove bucket](confirm-remove-bucket.png)

## ساخت باکت جدید{#create-bucket}

در صفحه سرویس باکت‌ها، پس از [انتخاب یک پروژه متصل](../bucket-settings#select-project)، روی **ساخت باکت جدید** کلیک کنید تا به فرم ساخت باکت هدایت شوید:
![Bucket: new bucket btn](new-bucket-btn.png)

ابتدا **فضا** را انتخاب کرده و **نام** باکت را وارد کنید:
![Bucket: new bucket form 1](new-bucket-form_1.png)

:::info[فضای پیش‌فرض]
به صورت پیش‌فرض آخرین فضای ساخته شده در پروژه به عنوان فضای باکت جدید انتخاب می‌شود. می‌توانید از میان فضاهای موجود، فضای موردنظر خود را انتخاب کنید:
![Bucket: new bucket space list](new-bucket-space-list.png)
:::

:::info[پیشوند نام باکت]
به صورت پیش‌فرض، نام سازمان به عنوان پیشوند نام باکت تنظیم می‌شود.
:::

### گزینه‌های اختیاری

- **دسترسی عمومی**:
  با فعال‌سازی این گزینه، اشتراک گذاری باکت و دانلود آبجکت‌ها به صورت عمومی فعال می‌شود.
- **نسخه نگاری**:
  برای جلوگیری از اقدامات ناخواسته کاربر و خرابی فایل‌ها، می‌توانید نسخه‌های مختلف از یک آبجکت را نگهداری کنید.
- **برچسب‌ها**:
  برای دسته‌بندی، کنترل منابع و مدیریت دسترسی باکت، می‌توانید برچسب‌های مختلفی را به باکت نسبت دهید.
- **سرویس اکانت**:
  برای تخصیص دسترسی محدود شده به باکت، می‌توانید سرویس اکانت موردنظر خود را در این بخش انتخاب کنید.
  ![Bucket: optional settings](optional-settings.png)
  :::caution[در چه صورت انتخاب سرویس اکانت الزامی خواهد بود؟]
  توجه داشته باشید در صورتی که تخصیص سرویس اکانت در فضای انتخاب شده ضروری باشد، گزینه سرویس اکانت در ساخت باکت اختیاری نخواهد بود و باید حداقل یک سرویس اکانت به باکت اختصاص دهید.
  :::

در انتها روی **ایجاد باکت** کلیک کنید تا باکت موردنظر ساخته شود.

## مرورگر باکت{#bucket-browser}

در صفحه مرورگر باکت، امکاناتی چون **فایل‌های بارگذاری شده**، **ساخت پوشه جدید**، **بارگذاری فایل** و دسترسی به سایر تنظیمات باکت وجود دارد:
![Bucket: bucket details](bucket-details.png)

### بارگذاری فایل

برای بارگذاری فایل، رو گزینه **بارگذاری فایل** کلیک کنید:
![Bucket: upload file](upload-file.png)
پس از انتخاب فایل، فایل موردنظر بارگذاری شده و به لیست فایل‌های صفحه **مرورگر** اضافه خواهد شد.

### ساخت پوشه

برای ساخت پوشه جدید، روی گزینه **پوشه جدید** کلیک کنید:
![Bucket: new folder](new-folder.png)

سپس نام پوشه را وارد کرده و روی **ایجاد** کیک کنید:
![Bucket: new folder form](new-folder-form.png)
در انتها پوشه جدید ساخته شده و به لیست آبجکت‌های صفحه **مرورگر** اضافه خواهد شد.

## نمای کلی

در صفحه نمای کلی، به چارت گزارش باکت مربوطه دسترسی خواهید داشت:
![Bucket: bucket overview](bucket-overview.png)
![Bucket: bucket overview details](bucket-overview-details.png)

برای دریافت چارت‌های باکت در بازه‌های زمانی مختلف، می‌توانید روی گزینه **فیلتر** کلیک کرده و بازه موردنظر خود را انتخاب کنید:
![Buckets: bucket overview chart](bucket-overview-chart.png)

## دسترسی

![Bucket: bucket access](bucket-access.png)

## ویرایشگر Policy

پالیسی، سیاست مبتنی بر منابع است که برای اعطای مجوزهای دسترسی به باکت و آبجکت‌های درون آن استفاده می‌شود. پالیسی‌ها در فرمت JSON بوده و از مدیریت هویت و دسترسی IAM استفاده می‌کنند.

می‌توانید پالیسی را از صفحه **ویرایشگر پالیسی** باکت، مشاهده کنید:
![Bucket: bucket policy](bucket-policy.png)
![Bucket: bucket policy details](bucket-policy-details.png)
در ادامه به توضیح هر کدام از مقادیر پالیسی پرداخته شده است.

### مقادیر Policy

|            |                                                                                                                                                           توضیحات |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| Versioning |                                                    نسخه زبان پالیسی را مشخص می‌کند. این نسخه نشان‌دهنده سازگاری با ساختار سیاست JSON معرفی شده در اکتبر 2012 است. |
| Statement  |                                                                                     شامل لیستی از بیانیه‌ها است که هر بیانیه مجموعه‌ای از مجوزها را تعریف می‌کند. |
| Sid        |                                                                              یک شناسه منحصر به فرد برای بیانیه، که اغلب برای مرجع و مقاصد حسابرسی استفاده می‌شود. |
| Effect     |                                         مشخص می‌کند که آیا بیانیه دسترسی را مجاز یا ممنوع می‌کند. در اینجا، "Allow" نشان می‌دهد که مجوزهای مشخص شده اعطا می‌شوند. |
| Principal  |                                                                            حساب‌های AWS یا کاربران/نقش‌های IAM را که پالیسی برای آنها اعمال می‌شود، تعریف می‌کند. |
| Action     |                                                 اقداماتی که این پالیسی مجاز می‌کند را مشخص می‌کند. در این مورد، اجازه دریافت (خواندن) آبجکت‌ها از باکت را می‌دهد. |
| Resource   | نام‌های منابع ARNs و آبجکت‌هایی که پالیسی برای آنها اعمال می‌شود را مشخص می‌کند. در این مورد، نشان می‌دهد این پالیسی برای تمام آبچکت‌های باکت (/\*) اعمال می‌شود. |

### ویرایش Policy

برای ویرایش پالسی از **ویرایشگر Policy** می‌توانید استفاده کنید. به عنوان مثال، مقدار `"s3:ListBucket"` را به **Action** و `"arn:aws:s3:::testco-b2"` را به **Resource** اضافه کرده و روی **ذخیره** کلیک می‌کنیم:
![Bucket: edit bucket policy](edit-bucket-policy.png)
این تغییرات، اجازه دسترسی لیست کردن محتوا و خواندن آبجکت‌های باکت را به کاربر می‌دهد.

## چرخه عمر

![Bucket: bucket lifecycle](bucket-lifecycle.png)

## تنظیمات باکت{#bucket-settings}

در صفحه تنظیمات، امکان تغییر گزینه‌های **دسترسی عمومی**، **نسخه‌نگاری** و **برچسب‌ها** فراهم شده است.
![Bucket: bucket settings](bucket-settings.png)
![Bucket: bucket settings details](bucket-settings-details.png)

تغییرات موردنظر خود را انجام داده و روی **به‌روزرسانی باکت** کلیک کنید:
![Bucket: edit bucket settings](edit-bucket-settings.png)
برای مقادیر دیگر چون **دسترسی عمومی** و **برچسب‌ها** نیز می‌توانید به همین صورت عمل کنید.
